<!-- Vendor JS Files -->

<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/vendor/sweetalert/sweetalert.js"></script>
<script src="/vendor/datatables/jquery.js"></script>


<script src="/vendor/datatables/jquery_datatables.js"></script>
<script src="/vendor/datatables/bootstrap5_datatables.js"></script>
<script src="/vendor/datatables/buttons_datatables.js"></script>

<script src="/vendor/echarts/echarts.min.js"></script>

<!-- Template Main JS File -->
<script src="/js/main.js"></script>
<script src="/js/validator.js"></script>
<script>
    $(function () {
        "use strict";

        $(".preloader").fadeOut();


    });
</script>
<script>
    const avatarElement = document.getElementById("avatarProfile")
    const nameElement = document.getElementById("fullNameClient")
    // Fetch data from a URL
    fetch('/avatar')
        .then(response => {
            // Check if the request was successful (status code 200-299)
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            // Parse the response as JSON
            return response.json();
        })
        .then(avatar => {

            if (avatar.avatar.profile_picture !== 'avatar.png') {
                avatarElement.src = `/img/avatar/${avatar.avatar.profile_picture}`
            } else {
                avatarElement.src = '/img/avatar/avatar.png'
            }

            nameElement.innerText = avatar.avatar.fullname
        })
        .catch(error => {
            // Handle errors
            console.error('Fetch error:', error);
        });

</script>